{"version":3,"file":"static/js/518.d5ad3ebb.chunk.js","mappings":"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","sources":["views/pages/login/loginService.js","views/pages/login/Login.js","../node_modules/@coreui/icons/src/free/cil-lock-locked.ts","../node_modules/@coreui/icons/src/free/cil-user.ts"],"sourcesContent":["const BASE_URL = 'http://localhost:5000/user-api'; // Replace with your actual API URL\r\n\r\nasync function loginUser(credentials) {\r\n    try {\r\n        const response = await fetch(`${BASE_URL}/login`, { \r\n          method: 'POST',\r\n          headers: {\r\n            'Content-Type': 'application/json',\r\n          },\r\n          body: JSON.stringify(credentials),\r\n        });\r\n    \r\n        if (!response.ok) {\r\n          throw new Error('Login failed');\r\n        }\r\n    \r\n        return response.json();\r\n      } catch (error) {\r\n        throw new Error('Login failed');\r\n      }\r\n}\r\n\r\nexport default {\r\n  loginUser,\r\n};\r\n","//Login.js\nimport React, { useState ,useEffect} from 'react';\nimport { Link , useNavigate} from 'react-router-dom'\nimport signup from 'src/assets/brand/6031991.jpg'\nimport signinBG from 'src/assets/brand/303.jpg'\nimport {\n  CButton,\n  CCard,\n  CCardBody,\n  CCardGroup,\n  CCol,\n  CContainer,\n  CForm,\n  CFormInput,\n  CInputGroup,\n  CInputGroupText,\n  CRow,\n} from '@coreui/react'\nimport CIcon from '@coreui/icons-react'\nimport { cilLockLocked, cilUser } from '@coreui/icons'\nimport loginService from './loginService';\n\n\n\n\n\nfunction Login () {\n  \n  const [credentials, setCredentials] = useState({\n    LoginId: '',\n    Password: '',\n  });\n\n  const navigate = useNavigate(); \n  const handleChange = (e) => {\n    const { name, value } = e.target;\n    setCredentials({\n      ...credentials,\n      [name]: value,\n    });\n  };\n\n  useEffect(() => {\n    const isLoginIdValid = () => {\n      const expirationTime = localStorage.getItem('LoginIdExpiration');\n      if (expirationTime) {\n        const currentTime = new Date().getTime();\n        if (currentTime >= expirationTime) {\n          localStorage.removeItem('LoginId');\n          localStorage.removeItem('LoginIdExpiration');\n          localStorage.removeItem('FK_MemId');\n          localStorage.removeItem('FirstName');\n        }\n      }\n    };\n\n    isLoginIdValid();\n\n    const intervalId = setInterval(() => {\n      isLoginIdValid();\n      const expirationTime = localStorage.getItem('LoginIdExpiration');\n      if (expirationTime) {\n        const currentTime = new Date().getTime();\n        if (currentTime >= expirationTime) {\n          localStorage.clear();\n        }\n      }\n    }, 60000);\n    // Set a timeout to clear all data in local storage after 30 minutes (30 * 60 * 1000 milliseconds)\n    const clearLocalStorageTimeout = setTimeout(() => {\n      localStorage.clear();\n    }, 30 * 60 * 1000);\n\n    return () => {\n      clearInterval(intervalId);\n      clearTimeout(clearLocalStorageTimeout);\n    };\n  }, []);\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    try {\n     const response = await loginService.loginUser(credentials);\n   \n         // Assuming response contains LoginId and FK_MemId  \n    const { LoginId, FK_MemId, FirstName } = response.userData;\n\n    \n    // Calculate the expiration time (1 minute in milliseconds)\n    const expirationTime = new Date().getTime() + 60000;\n\n    // Store LoginId and FK_MemId in local storage\n    localStorage.setItem('LoginId', LoginId);\n    localStorage.setItem('LoginIdExpiration', expirationTime)\n    localStorage.setItem('FK_MemId', FK_MemId);\n    localStorage.setItem('FirstName', FirstName);\n\n      // setAuthenticated(true); // Set authenticated to true\n      navigate('/dashboard'); // Redirect to the home page\n\n    // Set authenticated to true\n    } catch (error) {\n      // Handle login failure, e.g., show an error message\n      console.error('Login failed:', error.message);\n    }\n  };\n\n\n\n\n  return (\n    <div\n    className=\" min-vh-100 d-flex flex-row py-5 align-items-center\"\n    style={{ backgroundImage: `url(${signinBG})`, backgroundSize: 'cover' }}>\n    <CContainer>\n      <CRow className=\"justify-content-center\">\n        <CCol md={8}>\n          <CCardGroup className=\"d-flex flex-column-reverse flex-md-row\">\n            <CCard className=\"p-4\">\n              <CCardBody>\n                <CForm  onSubmit={handleSubmit}>\n                  <h1>Login</h1>\n                  <p className=\"text-medium-emphasis\">Sign In to your account</p>\n                  <CInputGroup className=\"mb-3\">\n                    <CInputGroupText>\n                      <CIcon icon={cilUser} />\n                    </CInputGroupText>\n                    <CFormInput placeholder=\"Enter You Email\" autoComplete=\"username\" \n                        type=\"email\"\n                        id=\"LoginId\"\n                        name=\"LoginId\"\n                        value={credentials.LoginId}\n                        onChange={handleChange}\n                         required\n                    />\n                  </CInputGroup>\n                  <CInputGroup className=\"mb-4\">\n                    <CInputGroupText>\n                      <CIcon icon={cilLockLocked} />\n                    </CInputGroupText>\n                    <CFormInput\n                      type=\"password\"\n                      id=\"password\"\n                      name=\"Password\"\n                      value={credentials.Password}\n                      onChange={handleChange}\n                      autoComplete=\"current-password\"\n                      required\n                    />\n                  </CInputGroup>\n                  <CRow>\n                    <CCol xs={6}>\n                      {/* <Link to=\"/dashboard\"> */}\n                        <CButton\n                          type=\"submit\"\n                          style={{\n                            backgroundColor: ' #12263f',\n                          }}\n                          className=\"px-4\"\n                        >\n                          Login\n                        </CButton>\n                      {/* </Link> */}\n                    </CCol>\n                    <CCol xs={6} className=\"text-right\">\n                    <Link to=\"/forgot\">\n                     ForgotPassword\n                    </Link>\n\n                    </CCol>\n                  </CRow>\n                </CForm>\n              </CCardBody>\n            </CCard>\n            <CCard\n              className=\"text-white py-5 w-100 \"\n              style={{ backgroundImage: `url(${signup})`, backgroundSize: 'cover', width: '' }}\n            >\n              <CCardBody className=\"text-center\">\n                <div>\n                  <h2>Sign up</h2>\n                  <br />\n                  <p style={{ color: '#dbdbdb' }}>Not Signed in yet ! </p>\n\n                  <p style={{ color: '#dbdbdb' }}>Register yourself to join us</p>\n                  <Link to=\"/register\">\n                    <CButton color=\"primary\" className=\"mt-3\" active tabIndex={-1}>\n                      Register Now!\n                    </CButton>\n                  </Link>\n                </div>\n              </CCardBody>\n            </CCard>\n          </CCardGroup>\n        </CCol>\n      </CRow>\n    </CContainer>\n  </div>\n  )\n}\n\nexport default Login\n","export var cilLockLocked = [\"512 512\", \"<path fill='var(--ci-primary-color, currentColor)' d='M384,200V144a128,128,0,0,0-256,0v56H88V328c0,92.635,75.364,168,168,168s168-75.365,168-168V200ZM160,144a96,96,0,0,1,192,0v56H160ZM392,328c0,74.99-61.01,136-136,136s-136-61.01-136-136V232H392Z' class='ci-primary'/>\"];\n","export var cilUser = [\"512 512\", \"<path fill='var(--ci-primary-color, currentColor)' d='M411.6,343.656l-72.823-47.334,27.455-50.334A80.23,80.23,0,0,0,376,207.681V128a112,112,0,0,0-224,0v79.681a80.236,80.236,0,0,0,9.768,38.308l27.455,50.333L116.4,343.656A79.725,79.725,0,0,0,80,410.732V496H448V410.732A79.727,79.727,0,0,0,411.6,343.656ZM416,464H112V410.732a47.836,47.836,0,0,1,21.841-40.246l97.66-63.479-41.64-76.341A48.146,48.146,0,0,1,184,207.681V128a80,80,0,0,1,160,0v79.681a48.146,48.146,0,0,1-5.861,22.985L296.5,307.007l97.662,63.479h0A47.836,47.836,0,0,1,416,410.732Z' class='ci-primary'/>\"];\n"],"names":["BASE_URL","_loginUser","_asyncToGenerator","_regeneratorRuntime","mark","_callee","credentials","response","wrap","_context","prev","next","fetch","concat","method","headers","body","JSON","stringify","sent","ok","Error","abrupt","json","t0","stop","apply","arguments","loginUser","_x","_useState","useState","LoginId","Password","_useState2","_slicedToArray","setCredentials","navigate","useNavigate","handleChange","e","_e$target","target","name","value","_objectSpread","_defineProperty","useEffect","isLoginIdValid","expirationTime","localStorage","getItem","Date","getTime","removeItem","intervalId","setInterval","clear","clearLocalStorageTimeout","setTimeout","clearInterval","clearTimeout","handleSubmit","_ref","_response$userData","FK_MemId","FirstName","preventDefault","loginService","userData","setItem","console","error","message","_jsx","className","style","backgroundImage","signinBG","backgroundSize","children","CContainer","CRow","CCol","md","_jsxs","CCardGroup","CCard","CCardBody","CForm","onSubmit","CInputGroup","CInputGroupText","CIcon","icon","cilUser","CFormInput","placeholder","autoComplete","type","id","onChange","required","cilLockLocked","xs","CButton","backgroundColor","Link","to","signup","width","color","active","tabIndex"],"sourceRoot":""}